<section class="zest-newsletter" id="ZestNewsletter-{{ section.id }}">
  <div class="zest-newsletter__container">
    {% for block in section.blocks %}
      {% case block.type %}
        {% when 'heading' %}
          <h2 {{ block.shopify_attributes }}>
            {{ block.settings.heading }}
          </h2>
        {% when 'text' %}
          <p {{ block.shopify_attributes }}>
            {{ block.settings.text }}
          </p>
        {% when 'form' %}
          <form class="zest-newsletter__form" action="{{ routes.root_url }}contact#contact_form" method="post" {{ block.shopify_attributes }}>
            <input type="hidden" name="form_type" value="customer">
            <input type="hidden" name="utf8" value="âœ“">
            <input 
              type="email" 
              name="contact[email]" 
              class="zest-newsletter__input"
              placeholder="{{ block.settings.placeholder | default: 'Enter your email' }}"
              required
            >
            <button type="submit" class="zest-newsletter__button">
              {{ block.settings.button_label | default: 'Subscribe' }}
            </button>
          </form>
      {% endcase %}
    {% endfor %}
  </div>
</section>

{% schema %}
{
  "name": "Zest Newsletter",
  "tag": "section",
  "blocks": [
    {
      "type": "heading",
      "name": "Heading",
      "settings": [
        {
          "type": "richtext",
          "id": "heading",
          "label": "Heading",
          "default": "<h2>Stay Updated</h2>"
        }
      ]
    },
    {
      "type": "text",
      "name": "Text",
      "settings": [
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Subscribe to get updates on new arrivals and exclusive offers</p>"
        }
      ]
    },
    {
      "type": "form",
      "name": "Newsletter Form",
      "settings": [
        {
          "type": "text",
          "id": "placeholder",
          "label": "Email placeholder",
          "default": "Enter your email"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Button label",
          "default": "Subscribe"
        }
      ]
    }
  ],
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    }
  ],
  "presets": [
    {
      "name": "Zest Newsletter",
      "blocks": [
        {
          "type": "heading",
          "settings": {
            "heading": "<h2>Stay Updated</h2>"
          }
        },
        {
          "type": "text",
          "settings": {
            "text": "<p>Subscribe to get updates on new arrivals and exclusive offers</p>"
          }
        },
        {
          "type": "form",
          "settings": {
            "placeholder": "Enter your email",
            "button_label": "Subscribe"
          }
        }
      ]
    }
  ]
}
{% endschema %}