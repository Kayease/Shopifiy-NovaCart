{% liquid
  assign has_image = false
  if section.settings.image != blank
    assign has_image = true
  endif
%}

<section class="zest-hero" id="ZestHero-{{ section.id }}">
  <div class="zest-hero__content">
    <div class="zest-hero__text">
      {% for block in section.blocks %}
        {% case block.type %}
          {% when 'heading' %}
            <h1 class="zest-heading" {{ block.shopify_attributes }}>
              {{ block.settings.heading }}
            </h1>
          {% when 'text' %}
            <p class="zest-text" {{ block.shopify_attributes }}>
              {{ block.settings.text }}
            </p>
          {% when 'button' %}
            <a 
              href="{{ block.settings.link }}" 
              class="zest-hero__cta"
              {{ block.shopify_attributes }}
            >
              {{ block.settings.label }}
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="2"/>
              </svg>
            </a>
        {% endcase %}
      {% endfor %}
    </div>
    
    {% if has_image %}
      <div class="zest-hero__image">
        {{ section.settings.image | image_url: width: 600 | image_tag: loading: 'eager' }}
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Zest Hero",
  "tag": "section",
  "blocks": [
    {
      "type": "heading",
      "name": "Heading",
      "settings": [
        {
          "type": "richtext",
          "id": "heading",
          "label": "Heading",
          "default": "<h1>Discover Your Style</h1>"
        }
      ]
    },
    {
      "type": "text",
      "name": "Text",
      "settings": [
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Premium clothing designed for the modern lifestyle</p>"
        }
      ]
    },
    {
      "type": "button",
      "name": "Button",
      "settings": [
        {
          "type": "text",
          "id": "label",
          "label": "Button label",
          "default": "Shop Now"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Button link"
        }
      ]
    }
  ],
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Hero image"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    }
  ],
  "presets": [
    {
      "name": "Zest Hero",
      "blocks": [
        {
          "type": "heading",
          "settings": {
            "heading": "<h1>Discover Your Style</h1>"
          }
        },
        {
          "type": "text",
          "settings": {
            "text": "<p>Premium clothing designed for the modern lifestyle</p>"
          }
        },
        {
          "type": "button",
          "settings": {
            "label": "Shop Now",
            "link": "shopify://collections/all"
          }
        }
      ]
    }
  ]
}
{% endschema %}